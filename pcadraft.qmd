---
title: "主成分分析（PCA）"
subtitle: "以 iris 数据为例"
author: "李宗璋"
format: 
  revealjs:
    theme: simple
    slide-number: true
    toc: true
    toc-depth: 2
---

## 1. 主成分分析概述

主成分分析（Principal Component Analysis, PCA）是一种**降维（dimension reduction）**方法，
通过线性变换将原始变量组合为若干个新的、不相关的综合变量（主成分），
以保留数据中最主要的变异信息。

### 数学思想简要

设原始数据矩阵为 \( X_{n \times p} \)，包含 \( n \) 个样本、\( p \) 个变量。

PCA 的核心思想是：

1. 对中心化后的数据 \( X \) 求协方差矩阵 \( S \)；
2. 求解特征值分解：
   \[
   S = V \Lambda V'
   \]
   其中 \( \Lambda \) 为特征值对角矩阵，\( V \) 为特征向量矩阵；
3. 将原始变量线性组合得到主成分：
   \[
   Z = X V
   \]
   每个主成分都是原始变量的线性组合，并按方差大小排序（第一主成分方差最大）。

换言之，PCA寻找一个新的坐标系，使得数据在前几个坐标方向上的方差最大，
从而实现**信息压缩**。

---

## 2. 应用场景

主成分分析常用于：

- **数据降维**：减少变量数量，降低模型复杂度；
- **多指标综合评价**：将多个指标合成为少数几个综合得分；
- **可视化探索**：用前两个主成分展示高维数据结构；
- **去除多重共线性**：在回归分析中改善解释变量间相关性。

典型应用包括：
- 经济指标综合评价；
- 基因表达数据分析；
- 图像识别与特征提取；
- 环境与社会调查数据分析。

---

## 3. 对数据的要求

PCA 的前提假设与数据要求包括：

1. **变量量纲一致性**：通常需要对数据进行标准化处理；
2. **线性关系假设**：PCA 基于变量的线性组合；
3. **连续型变量**：PCA 主要适用于定量数据；
4. **变量间存在一定相关性**：若变量间完全独立，则PCA意义有限。

---

## 4. 实例：iris 数据集的主成分分析

### 4.1 数据准备

```{r}
# 加载数据
data(iris)
head(iris)
