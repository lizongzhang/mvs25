---
title:  "L4 K-modes聚类分析"
date: today
author: 
  name: "Lzz"
  url: https://space.bilibili.com/590872906/
format: 
  revealjs:
    incremental: FALSE
    theme: sky
    slide-number: true
    code-fold: false
    execute:
      echo: true
      output: true        
      warning: false
      message: false
    chalkboard: 
      buttons: true
    preview-links: auto
    css: styles.css
    footer: |
      <https://lizongzhang.github.io/mvs25><br>© 2025 Li Zongzhang 
    include-before-body: 
      - header.html
      - fonts.html
    title-slide-attributes: 
      data-background-image: "img/bili_up.png"  
      data-background-size: "100px"        
      data-background-position: "center bottom 200px"  
    plugins: [highlight, zoom, notes]
editor: 
  markdown: 
    wrap: 72
---

```{r}
#| echo: FALSE
par(family  = 'STKaiti')
library(showtext)
showtext_auto()

# install.packages("survival")
# install.packages("ggsurvfit")
# install.packages("gtsummary")
# install.packages("tidyverse")

library(survival)
library(survminer)
library(ggsurvfit)
library(gtsummary)
library(tidyverse)
library(broom)
```

------------------------------------------------------------------------

## 大纲

-   1.1 K-modes分析简介

-   1.2 K-modes算法原理

-   1.3 survminer

-   1.4 ggsurvfit

-   1.5 survRM2

------------------------------------------------------------------------

## 1.1 什么是K-modes聚类分析？

- K-means 的局限

  - K-means 聚类要求计算“均值”作为簇中心，并用欧氏距离衡量样本与簇中心的距离。但是对于定性数据（如性别=男/女，职业=教师/医生），均值和欧氏距离都没有意义。

- K-modes 的改进

  - 由 Huang (1998) 提出，K-modes 将：“均值”改成了“众数”（mode），即每一类在每个特征上的最频繁取值作为簇中心。

  - “欧氏距离”改成了匹配差异系数，即比较每个属性是否相同，不同计 1，相同计 0。

  - K-modes 就是K-means 在定性数据上的自然推广。

::: reference-text-small
Kaplan, E. L., & Meier, P. (1958), Nonparametric estimation from
incomplete observations, Journal of the American Statistical
Association\*, 53(282), 457–481. [🔗 DOI:
10.2307/2281868](https://doi.org/10.2307/2281868)
:::

--------

## K-modes算法原理

-   初始化：随机选择K个样本作为初始簇中心

-   分配步骤：计算每个样本与K个簇中心的距离（匹配差异系数），将样本分配到距离最近的簇

-   更新步骤：对于每个簇，重新计算簇中心（众数）

-   重复分配和更新步骤，直到类中心不再变化或达到最大迭代次数

----

## K-modes算法优缺点

-   优点

    -   适用于定性数据

    -   计算效率高，易于实现

    -   能处理大规模数据集

-   缺点

    -   需要预先指定K值

    -   对初始类中心敏感，可能陷入局部最优

    -   仅适用于定性变量，无法处理混合数据类型
    
    -   结果解释性较差，难以理解簇的含义
    
---------------

##

---

# 插入图片

![第1步随机选择3个个案作为初始聚类中心](img/kmodes/1.png){width=50% fig-align="center"}



## 1.2 K-modes聚类分析实例

-   数据集：假设有一个包含10个客户的定性数据集，包含以下变量：

    -   性别（男/女）

    -   职业（教师/医生/工程师）

    -   购买意向（高/中/低）
    
-   目标：使用K-modes算法将客户分为3类（K=3）





